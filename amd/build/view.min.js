define("block_surveylinks/view",["exports","core/notification","core/templates","./explorance_api"],(function(_exports,_notification,_templates,_explorance_api){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}
/**
   * JS code for the view of the surveylinks block.
   *
   * @module     block_surveylinks/view
   * @copyright  2020 Andrew Madden <andrewmadden@catalyst-au.net>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=async function(userid,courseid,logosrc,linktext,extratext){const promises=[(0,_explorance_api.getSurveyLinks)(userid,courseid)],[surveylinks]=await Promise.all(promises);surveylinks.map((link=>(link.logosrc=logosrc,link.linktext=linktext,link.extratext=extratext,link))),async function(surveylinks){const surveylinkBlock=document.querySelector(SELECTORS_BLOCK_SURVEYLINKS),contentContainer=surveylinkBlock.querySelector(SELECTORS_BLOCK_CONTENT_CONTAINER);if(!Array.isArray(surveylinks)||1!==surveylinks.length)return;try{const args={surveylink:surveylinks.pop()};contentContainer.innerHTML=await _templates.default.render("block_surveylinks/surveylink",args),surveylinkBlock.classList.toggle("d-none",!1)}catch(exception){_notification.default.exception(exception)}}(surveylinks)},_notification=_interopRequireDefault(_notification),_templates=_interopRequireDefault(_templates);const SELECTORS_BLOCK_SURVEYLINKS="[data-block='surveylinks']",SELECTORS_BLOCK_CONTENT_CONTAINER=".block-content"}));

//# sourceMappingURL=view.min.js.map