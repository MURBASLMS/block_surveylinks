define ("block_surveylinks/view",["exports","core/notification","core/templates","./explorance_api"],function(a,b,c,d){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=o;b=e(b);c=e(c);function e(a){return a&&a.__esModule?a:{default:a}}function f(a,b){return j(a)||h(a,b)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function h(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g=a[Symbol.iterator](),h;!(d=(h=g.next()).done);d=!0){c.push(h.value);if(b&&c.length===b)break}}catch(a){e=!0;f=a}finally{try{if(!d&&null!=g["return"])g["return"]()}finally{if(e)throw f}}return c}function j(a){if(Array.isArray(a))return a}function k(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}if(h.done){b(i)}else{Promise.resolve(i).then(d,e)}}function l(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var h=a.apply(b,c);function f(a){k(h,d,e,f,g,"next",a)}function g(a){k(h,d,e,f,g,"throw",a)}f(void 0)})}}var q={BLOCK_SURVEYLINKS:"[data-block='surveylinks']",BLOCK_CONTENT_CONTAINER:".block-content"};function m(){return n.apply(this,arguments)}function n(){n=l(regeneratorRuntime.mark(function a(d){var e,f,g;return regeneratorRuntime.wrap(function(a){while(1){switch(a.prev=a.next){case 0:e=document.querySelector(q.BLOCK_SURVEYLINKS);f=e.querySelector(q.BLOCK_CONTENT_CONTAINER);if(!(!Array.isArray(d)||1!==d.length)){a.next=4;break}return a.abrupt("return");case 4:a.prev=4;g={surveylink:d.pop()};a.next=8;return c.default.render("block_surveylinks/surveylink",g);case 8:f.innerHTML=a.sent;e.classList.toggle("d-none",!1);a.next=15;break;case 12:a.prev=12;a.t0=a["catch"](4);b.default.exception(a.t0);case 15:case"end":return a.stop();}}},a,null,[[4,12]])}));return n.apply(this,arguments)}function o(){return p.apply(this,arguments)}function p(){p=l(regeneratorRuntime.mark(function a(b,c,e,g,h){var i,j,k,l;return regeneratorRuntime.wrap(function(a){while(1){switch(a.prev=a.next){case 0:i=[(0,d.getSurveyLinks)(b,c)];a.next=3;return Promise.all(i);case 3:j=a.sent;k=f(j,1);l=k[0];l.map(function(a){a.logosrc=e;a.linktext=g;a.extratext=h;return a});m(l);case 8:case"end":return a.stop();}}},a)}));return p.apply(this,arguments)}});
//# sourceMappingURL=view.min.js.map
